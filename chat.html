<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SovaApp — Чаты</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="logo.png" type="image/png">
  <style>
    :root {
      --green: #21a042;
      --green-light: #e6f4ea;
      --green-hover: #1c8836;
      --gray: #f4f6fa;
      --text-main: #222;
      --text-secondary: #6a6a6a;
      --border: #e1e6eb;
      --radius: 16px;
    }
    body {
      margin: 0;
      padding: 0;
      background: #f4f6fa;
      font-family: 'Segoe UI', Arial, sans-serif;
      color: var(--text-main);
      height: 100vh;
      overflow: hidden;
    }
    .layout {
      display: flex;
      height: 100vh;
      width: 100vw;
    }
    .sidebar {
      width: 320px;
      background: #fff;
      display: flex;
      flex-direction: column;
      border-right: 1.5px solid var(--border);
      padding: 0;
      box-sizing: border-box;
      position: relative;
      z-index: 10;
    }
    .header {
      display: flex;
      align-items: center;
      padding: 28px 28px 16px 28px;
      gap: 14px;
    }
    .header-logo {
      width: 36px;
      height: 36px;
      flex-shrink: 0;
    }
    .header-title {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: 0.5px;
    }
    .new-chat-btn {
      margin: 18px 28px 20px 28px;
      width: calc(100% - 56px);
      height: 48px;
      border-radius: var(--radius);
      background: var(--green);
      color: #fff;
      border: none;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: background .17s;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 4px #00000011;
    }
    .new-chat-btn:hover {
      background: var(--green-hover);
    }
    .chats-list {
      flex: 1;
      overflow-y: auto;
      padding: 0 0 16px 0;
    }
    .chat-item {
      display: flex;
      align-items: center;
      padding: 12px 28px;
      border-radius: var(--radius);
      margin: 6px 14px;
      cursor: pointer;
      transition: background .15s;
      background: none;
    }
    .chat-item.active,
    .chat-item:hover {
      background: var(--green-light);
    }
    .chat-avatar {
      background: var(--green);
      color: #fff;
      width: 38px;
      height: 38px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.25rem;
      margin-right: 13px;
      letter-spacing: 1px;
      flex-shrink: 0;
    }
    .chat-info {
      display: flex;
      flex-direction: column;
    }
    .chat-title {
      font-size: 1.1rem;
      font-weight: 500;
      margin-bottom: 2px;
      color: var(--text-main);
    }
    .chat-preview {
      font-size: 0.95rem;
      color: var(--text-secondary);
      font-weight: 400;
    }
    .logout-btn {
      width: calc(100% - 56px);
      margin: 18px 28px 30px 28px;
      height: 44px;
      border: 2px solid var(--green);
      border-radius: var(--radius);
      color: var(--green);
      font-size: 1.08rem;
      background: #fff;
      cursor: pointer;
      font-weight: 600;
      transition: background .17s, color .17s;
    }
    .logout-btn:hover {
      background: var(--green-light);
      color: #14762a;
    }
    /* MAIN */
    .main {
      flex: 1;
      background: #f4f6fa;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* BG pattern: рандомно совы */
    .pattern-bg {
      position: absolute;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      overflow: hidden;
    }
    .pattern-owl {
      position: absolute;
      width: 56px; height: 56px;
      opacity: 0.15;
      filter: blur(0.1px);
      user-select: none;
      pointer-events: none;
      animation: floatowl 6s linear infinite alternate;
    }
    @keyframes floatowl {
      0%   { transform: translateY(0); }
      100% { transform: translateY(10px);}
    }
    /* EMPTY */
    .empty-state {
      z-index: 2;
      text-align: center;
      position: relative;
      padding-top: 28px;
      min-width: 360px;
    }
    .main-owl-anim {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 8px;
      animation: owlpulse 1.3s infinite alternate;
    }
    @keyframes owlpulse {
      0%   { transform: scale(1);}
      100% { transform: scale(1.09);}
    }
    .main-owl-anim svg {
      width: 88px;
      height: 88px;
      display: block;
      margin: 0 auto 7px;
    }
    .empty-title {
      font-size: 1.55rem;
      font-weight: 600;
      margin-top: 10px;
      margin-bottom: 4px;
    }
    .empty-sub {
      color: var(--text-secondary);
      font-size: 1.08rem;
    }
    /* MODAL CREATE CHAT */
    .modal {
      position: fixed;
      left: 0; top: 0; right: 0; bottom: 0;
      background: rgba(245,247,250,0.93);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadein .36s;
    }
    @keyframes fadein {
      from { opacity: 0;}
      to   { opacity: 1;}
    }
    .modal-content {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: 0 4px 32px #172b2c0a, 0 0.5px 1px #0000000a;
      padding: 38px 32px 30px 32px;
      min-width: 350px;
      min-height: 260px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      animation: popmodal .41s cubic-bezier(.41,1.1,.65,1.05);
    }
    @keyframes popmodal {
      0% { transform: scale(0.85) translateY(40px);}
      100% {transform: scale(1) translateY(0);}
    }
    .modal-close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.7rem;
      color: #888;
      background: none;
      border: none;
      cursor: pointer;
      font-weight: 500;
      opacity: .87;
      transition: color .17s;
      z-index: 2;
    }
    .modal-close:hover {
      color: #333;
    }
    .modal-owl-anim {
      margin-bottom: 7px;
      margin-top: -5px;
      animation: owlpulse 1.15s infinite alternate;
    }
    .modal-owl-anim svg {
      width: 67px;
      height: 67px;
      display: block;
      margin: 0 auto;
    }
    .modal-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 18px;
      margin-top: 0;
      text-align: center;
    }
    .modal-form input {
      width: 265px;
      font-size: 1.05rem;
      padding: 13px 17px;
      border-radius: 9px;
      border: 1.5px solid #dde2e8;
      margin-bottom: 14px;
      outline: none;
      transition: border .13s;
      margin-top: 3px;
    }
    .modal-form input:focus {
      border: 1.5px solid var(--green);
      background: #f8faf8;
    }
    .modal-form button {
      width: 100%;
      background: var(--green);
      color: #fff;
      font-size: 1.13rem;
      border: none;
      border-radius: 9px;
      padding: 11px 0;
      font-weight: 600;
      cursor: pointer;
      transition: background .15s;
      box-shadow: 0 1px 4px #00000011;
    }
    .modal-form button:hover {
      background: var(--green-hover);
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="header">
        <!-- SVG ЛОГОТИП СОВЫ -->
        <span class="header-logo">
          <svg viewBox="0 0 64 64" fill="none">
            <circle cx="32" cy="32" r="30" fill="#21a042"/>
            <ellipse cx="23" cy="27" rx="6" ry="7" fill="#171818"/>
            <ellipse cx="41" cy="27" rx="6" ry="7" fill="#171818"/>
            <ellipse cx="32" cy="38.5" rx="3" ry="2" fill="#f19d38"/>
          </svg>
        </span>
        <span class="header-title">SovaApp</span>
      </div>
      <button class="new-chat-btn" id="newChatBtn">+ Новый чат</button>
      <div class="chats-list" id="chatsList">
        <!-- Пример чатов -->
        <div class="chat-item active"><span class="chat-avatar">L</span>
          <div class="chat-info">
            <span class="chat-title">Low</span>
            <span class="chat-preview">Нет сообщений</span>
          </div>
        </div>
        <div class="chat-item"><span class="chat-avatar">S</span>
          <div class="chat-info">
            <span class="chat-title">SovaTest</span>
            <span class="chat-preview">Нет сообщений</span>
          </div>
        </div>
      </div>
      <button class="logout-btn" id="logoutBtn">Выйти</button>
    </aside>
    <!-- Main Area -->
    <main class="main">
      <!-- BG PATTERN -->
      <div class="pattern-bg" id="patternBg"></div>
      <!-- EMPTY -->
      <div class="empty-state" id="emptyState">
        <div class="main-owl-anim" id="mainOwlAnim">
          <!-- Живая сова SVG -->
          <svg viewBox="0 0 84 84" fill="none">
            <circle cx="42" cy="42" r="40" fill="#21a042"/>
            <ellipse id="eyeLeft" cx="32" cy="38" rx="7" ry="9" fill="#171818"/>
            <ellipse id="eyeRight" cx="54" cy="38" rx="7" ry="9" fill="#171818"/>
            <ellipse cx="43" cy="58" rx="4" ry="3" fill="#f19d38"/>
            <!-- Крыло -->
            <ellipse id="wing" cx="71" cy="52" rx="11" ry="7" fill="#1c8836" opacity=".82"/>
          </svg>
        </div>
        <div class="empty-title">Нет сообщений</div>
        <div class="empty-sub">Поприветствуйте собеседника!</div>
      </div>
      <!-- Модальное окно "Создать чат" -->
      <div class="modal" id="modalCreate" style="display:none;">
        <div class="modal-content">
          <button class="modal-close" id="closeModalBtn">&times;</button>
          <div class="modal-owl-anim">
            <!-- SVG c лупой -->
            <svg id="owlSearch" viewBox="0 0 64 64" fill="none">
              <circle cx="32" cy="32" r="30" fill="#21a042"/>
              <ellipse id="modalEyeLeft" cx="23" cy="27" rx="6" ry="7" fill="#171818"/>
              <ellipse id="modalEyeRight" cx="41" cy="27" rx="6" ry="7" fill="#171818"/>
              <ellipse cx="32" cy="38.5" rx="3" ry="2" fill="#f19d38"/>
              <!-- Лупа -->
              <circle id="magnifier" cx="50" cy="44" r="6" fill="#f8faf8" stroke="#888" stroke-width="2"/>
              <rect x="55" y="48" width="8" height="2" rx="1" fill="#888" transform="rotate(40 55 48)"/>
            </svg>
          </div>
          <div class="modal-title">Создать чат</div>
          <form class="modal-form" id="createChatForm" autocomplete="off">
            <input type="text" placeholder="Имя, ник или e-mail" required>
            <button type="submit">Создать чат</button>
          </form>
        </div>
      </div>
    </main>
  </div>
  <script>
    // --- Owl Pattern (разброс по экрану) ---
    function createOwlsPattern() {
      const bg = document.getElementById('patternBg');
      bg.innerHTML = '';
      let owls = [];
      for(let i=0;i<24;i++){
        let top = Math.random()*90 + 3;
        let left = Math.random()*93 + 1;
        let dur = 3 + Math.random()*6;
        owls.push(`<svg class="pattern-owl" style="top:${top}vh;left:${left}vw;animation-duration:${dur}s">
          <circle cx="28" cy="28" r="26" fill="#21a042"/>
          <ellipse cx="20" cy="24" rx="5" ry="5.9" fill="#171818"/>
          <ellipse cx="34" cy="24" rx="5" ry="5.9" fill="#171818"/>
          <ellipse cx="27" cy="37" rx="2.5" ry="1.8" fill="#f19d38"/>
        </svg>`);
      }
      bg.innerHTML = owls.join('');
    }
    window.addEventListener('resize', createOwlsPattern);
    window.addEventListener('DOMContentLoaded', createOwlsPattern);

    // --- Живая анимация совы по центру (мигание и взмах крылом) ---
    let owlAnim = document.getElementById('mainOwlAnim');
    if (owlAnim) {
      setInterval(() => {
        let left = document.getElementById('eyeLeft');
        let right = document.getElementById('eyeRight');
        let wing = document.getElementById('wing');
        // Моргаем
        if(left && right) {
          left.setAttribute('ry', Math.random() < 0.3 ? '2' : '9');
          right.setAttribute('ry', Math.random() < 0.3 ? '2' : '9');
        }
        // Взмах крылом
        if(wing) {
          let swing = Math.random() < 0.5 ? 12 : 7;
          wing.setAttribute('ry', swing);
        }
      }, 750);
    }

    // --- Modal animate (лупа) ---
    let modalOwlAnim = document.getElementById('owlSearch');
    setInterval(() => {
      if(!modalOwlAnim) return;
      let l = modalOwlAnim.getElementById('modalEyeLeft');
      let r = modalOwlAnim.getElementById('modalEyeRight');
      let m = modalOwlAnim.getElementById('magnifier');
      if (l && r && m) {
        let offset = Math.random() < 0.5 ? 3 : 0;
        l.setAttribute('cy', 27 + offset);
        r.setAttribute('cy', 27 + offset);
        // Лупа "двигается"
        let mgX = 50 + (Math.random()-0.5)*3;
        let mgY = 44 + (Math.random()-0.5)*3;
        m.setAttribute('cx', mgX);
        m.setAttribute('cy', mgY);
      }
    }, 850);

    // --- Кнопка "Новый чат" ---
    document.getElementById('newChatBtn
