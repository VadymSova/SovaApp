<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SovaApp — Чаты</title>
  <meta name="viewport" content="width=1024">
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: #f7faf7;
      font-family: 'Segoe UI', Arial, sans-serif;
      display: flex;
    }
    .sidebar {
      width: 290px;
      background: #f7faf7;
      border-right: 1.5px solid #e5efeb;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      padding: 0 0 12px 0;
      min-height: 100vh;
    }
    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 11px;
      padding: 23px 23px 8px 23px;
    }
    .logo-sova {
      width: 46px;
      height: 46px;
    }
    .app-title {
      font-size: 26px;
      color: #212d21;
      font-weight: bold;
      letter-spacing: 1px;
    }
    .btn-new-chat {
      margin: 16px 18px 16px 18px;
      background: #20a042;
      border-radius: 9px;
      border: none;
      color: #fff;
      font-size: 19px;
      font-weight: 600;
      padding: 13px 0;
      width: calc(100% - 36px);
      cursor: pointer;
      box-shadow: 0 2px 6px #b3e0b36b;
      transition: background 0.14s;
    }
    .btn-new-chat:hover {
      background: #158031;
    }
    .chat-list {
      flex: 1 1 auto;
      overflow-y: auto;
      padding: 0 0 0 0;
    }
    .chat-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      cursor: pointer;
      border-bottom: 1px solid #f0f3f1;
      background: transparent;
      transition: background 0.15s;
    }
    .chat-item:hover {
      background: #e7f6eb;
    }
    .chat-avatar {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: #20a042;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 22px;
      font-weight: bold;
      flex-shrink: 0;
    }
    .chat-info {
      flex: 1 1 auto;
    }
    .chat-title {
      font-size: 17px;
      color: #222;
      font-weight: 600;
    }
    .chat-lastmsg {
      font-size: 14px;
      color: #7e9183;
      margin-top: 2px;
    }
    .chat-time {
      font-size: 14px;
      color: #b7bfb5;
      margin-left: 8px;
    }
    .logout-row {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 14px 18px 0 18px;
    }
    .btn-logout {
      width: 100%;
      border: 2px solid #20a042;
      background: none;
      color: #20a042;
      border-radius: 8px;
      font-size: 17px;
      padding: 10px 0;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.18s, color 0.18s;
      margin-left: 0;
    }
    .btn-logout:hover {
      background: #20a042;
      color: #fff;
    }
    .main {
      flex: 1 1 auto;
      min-height: 100vh;
      background: #f7faf7;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    /* Pattern Sova */
    .pattern-bg {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      left: 0; top: 0;
    }
    .pattern-sova {
      position: absolute;
      width: 36px; height: 36px;
      opacity: 0.16;
      user-select: none;
      pointer-events: none;
    }
    /* Welcome sova */
    .welcome-sova {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .welcome-sova .sova-big {
      width: 95px; height: 95px;
      margin-bottom: 15px;
    }
    .welcome-title {
      font-size: 24px;
      color: #202b21;
      font-weight: bold;
      text-align: center;
      margin-bottom: 9px;
    }
    .welcome-subtitle {
      color: #768377;
      font-size: 18px;
      text-align: center;
    }
    /* Modal overlay */
    .modal {
      display: none;
      position: fixed;
      left: 0; top: 0; right: 0; bottom: 0;
      background: rgba(243,248,245,0.97);
      z-index: 100;
      align-items: center;
      justify-content: center;
      animation: fadein .4s;
    }
    .modal.active { display: flex; }
    @keyframes fadein {
      from { opacity: 0;}
      to { opacity: 1;}
    }
    /* Modal content */
    .modal-content {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 6px 48px #a9c4b644;
      padding: 34px 35px 28px 35px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 340px;
      position: relative;
      z-index: 2;
      text-align: center;
    }
    /* Sova + lupa (search) anim */
    .search-owl-anim {
      margin-bottom: 22px;
      animation: popsearch .9s;
    }
    @keyframes popsearch {
      0% { transform: scale(.8) translateY(38px); opacity: 0;}
      55% { transform: scale(1.14);}
      100% { transform: scale(1) translateY(0); opacity: 1;}
    }
    .search-owl-lupa {
      position: absolute;
      right: 12px; bottom: 10px;
      width: 23px; height: 23px;
      z-index: 3;
      filter: drop-shadow(0 2px 2px #668e7b11);
      animation: lupamove .85s;
    }
    @keyframes lupamove {
      0% { transform: scale(0.3) translateX(-28px);}
      35% { transform: scale(1.13);}
      100% { transform: scale(1) translateX(0);}
    }
    /* Form in modal */
    .modal-content label {
      font-size: 16px;
      color: #222;
      font-weight: 500;
      margin-bottom: 9px;
    }
    .modal-content input {
      padding: 12px 12px;
      border-radius: 8px;
      border: 1.3px solid #b3dbc2;
      font-size: 17px;
      width: 100%;
      margin-bottom: 17px;
      background: #f3f8f5;
      transition: border .17s;
    }
    .modal-content input:focus {
      border: 1.6px solid #20a042;
      background: #e5f5ea;
      outline: none;
    }
    .modal-content button {
      padding: 13px 0;
      width: 100%;
      background: #20a042;
      color: #fff;
      border: none;
      font-size: 18px;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 10px;
      transition: background .14s;
    }
    .modal-content button:hover {
      background: #158031;
    }
    .modal-close {
      position: absolute;
      right: 16px; top: 10px;
      background: none;
      border: none;
      color: #888;
      font-size: 28px;
      cursor: pointer;
      z-index: 4;
      transition: color 0.14s;
    }
    .modal-close:hover {
      color: #c03;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <img class="logo-sova" src="logo.png" alt="SovaApp logo">
      <span class="app-title">SovaApp</span>
    </div>
    <button class="btn-new-chat" id="new-chat-btn">+ Новый чат</button>
    <div class="chat-list" id="chat-list">
      <!-- Чаты появятся тут -->
    </div>
    <div class="logout-row">
      <button class="btn-logout" id="logout-btn">Выйти</button>
    </div>
  </div>
  <div class="main">
    <!-- Паттерн -->
    <div class="pattern-bg" id="pattern-bg"></div>
    <!-- Приветствие -->
    <div class="welcome-sova" id="welcome-area">
      <img class="sova-big" src="logo.png" alt="Sova logo">
      <div class="welcome-title">Нет сообщений</div>
      <div class="welcome-subtitle">Поприветствуйте собеседника!</div>
    </div>
  </div>
  <!-- Modal для нового чата -->
  <div class="modal" id="modal-new-chat">
    <div class="modal-content">
      <button class="modal-close" id="close-modal">&times;</button>
      <div style="position:relative;">
        <img src="logo.png" class="search-owl-anim" width="68" height="68" alt="Sova search owl">
        <svg class="search-owl-lupa" viewBox="0 0 24 24"><circle cx="10" cy="10" r="7" fill="#158031"/><rect x="16" y="16" width="7" height="3" rx="1.2" fill="#20a042" transform="rotate(45 16 16)"/></svg>
      </div>
      <label for="contact-input">Введите имя контакта или email</label>
      <input id="contact-input" type="text" placeholder="Имя или e-mail">
      <button id="create-chat-btn">Создать чат</button>
    </div>
  </div>
  <script>
    // Генерация паттерна из сов
    function createPattern() {
      const pattern = document.getElementById('pattern-bg');
      pattern.innerHTML = '';
      const n = 13;
      for (let i = 0; i < n; i++) {
        let s = document.createElement('img');
        s.src = 'logo.png';
        s.className = 'pattern-sova';
        s.style.top = (Math.random()*75+8)+'%';
        s.style.left = (Math.random()*92+2)+'%';
        s.style.opacity = (Math.random()*0.14+0.11).toFixed(2);
        s.style.transform = `scale(${Math.random()*0.65+0.5}) rotate(${Math.floor(Math.random()*350)}deg)`;
        pattern.appendChild(s);
      }
    }
    createPattern();

    // Примерная структура чатов (тестовые данные)
    let chats = [
      { name: "Low", lastMsg: "Нет сообщений", time: "" },
      { name: "SovaTest", lastMsg: "Нет сообщений", time: "" }
    ];
    function renderChats() {
      const list = document.getElementById('chat-list');
      list.innerHTML = "";
      chats.forEach(chat => {
        let div = document.createElement('div');
        div.className = "chat-item";
        div.innerHTML = `<div class="chat-avatar">${chat.name[0].toUpperCase()}</div>
          <div class="chat-info">
            <div class="chat-title">${chat.name}</div>
            <div class="chat-lastmsg">${chat.lastMsg}</div>
          </div>
          <div class="chat-time">${chat.time||""}</div>`;
        list.appendChild(div);
      });
    }
    renderChats();

    // Кнопка "Выйти"
    document.getElementById('logout-btn').onclick = () => {
      window.location.href = 'index.html';
    };

    // Открыть/закрыть модал создания чата
    document.getElementById('new-chat-btn').onclick = () => {
      document.getElementById('modal-new-chat').classList.add('active');
      setTimeout(() => {
        document.getElementById('contact-input').focus();
      }, 250);
    };
    document.getElementById('close-modal').onclick = () => {
      document.getElementById('modal-new-chat').classList.remove('active');
      document.getElementById('contact-input').value = '';
    };

    // Создать новый чат (анимация + добавление)
    document.getElementById('create-chat-btn').onclick = () => {
      const val = document.getElementById('contact-input').value.trim();
      if (!val) return;
      chats.unshift({ name: val, lastMsg: "Нет сообщений", time: (new Date()).toLocaleTimeString().slice(0,5) });
      renderChats();
      document.getElementById('modal-new-chat').classList.remove('active');
      document.getElementById('contact-input').value = '';
    };

    // Фокус на Enter
    document.getElementById('contact-input').addEventListener('keydown', function(e) {
      if (e.key === "Enter") {
        document.getElementById('create-chat-btn').click();
      }
    });
  </script>
</body>
</html>
